# =============================================================================
# Environment variables for backend, Postgres (Docker), frontend (Docker),
# and observability. Copy to .env and adjust. Used by docker-compose and local.
# =============================================================================

# -----------------------------------------------------------------------------
# Backend (cmd/server) â€” see internal/config/config.go
# -----------------------------------------------------------------------------
# HTTP listen port.
PORT=8080

# PostgreSQL connection (backend and seed use these).
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=roadmap
# sslmode: disable | require | verify-ca | verify-full
DB_SSLMODE=disable

# JWT: must be non-empty in production. Access/refresh token expiry in minutes.
JWT_SECRET=change-me-in-production
JWT_ACCESS_EXPIRY_MIN=60
JWT_REFRESH_EXPIRY_MIN=10080

# Logging (internal/logger): level = debug|info|warn|error, format = console|json.
LOG_LEVEL=info
LOG_FORMAT=json

# OpenTelemetry: leave empty to disable tracing. Set to collector URL for Tempo
# (e.g. http://otel-collector:4318 in Docker).
OTEL_EXPORTER_OTLP_ENDPOINT=

# -----------------------------------------------------------------------------
# Postgres (Docker Compose postgres service)
# Must match DB_* above when the backend connects to this Postgres.
# -----------------------------------------------------------------------------
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=roadmap

# -----------------------------------------------------------------------------
# Frontend (Docker Compose frontend service)
# API proxy (app/api/[[...path]]/route.ts) uses BACKEND_URL to forward /api/*.
# -----------------------------------------------------------------------------
# Backend base URL. Fallback: NEXT_PUBLIC_API_URL, then http://localhost:8080.
BACKEND_URL=http://backend:8080
# Public API URL (exposed to browser). Used as fallback when BACKEND_URL unset.
NEXT_PUBLIC_API_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# Optional overrides (docker-compose reads these from .env)
# -----------------------------------------------------------------------------
# Backend in Docker, Postgres on host: set DB_HOST to host IP (e.g. 10.66.50.210).
# Frontend in Docker, backend on host: set BACKEND_URL=http://<host-ip>:8080.
# Do NOT set DB_HOST=localhost when backend runs in Docker (localhost = container).

# Grafana admin password (observability stack).
# GRAFANA_PASSWORD=admin
